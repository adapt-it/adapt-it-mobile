{{! SourcePhrase.html
    Template for rendering a source phrase in a chapter -- used by SourcePhraseView.js.
}}
{{#.}}
{{#if @first}}
{{#unless this.markers}}
{{! text doc (or something that doesn't have an opening marker) -- create a starting strip }}
<div class="strip" id="strip-{{this.id}}">
{{/unless}}
{{/if}}
{{! if we have a marker _after_ the first sourcephrase, we need to close out the previous div. }}
{{#if this.markers}}{{#unless @first}}</div>{{/unless}}{{/if}}
{{#if this.markers}}
<div class="strip{{classes}}" id="strip-{{this.id}}">
{{#ifCond this.markers 'contains' 'c '}}
<div id="header-{{this.id}}-c" class="strip-header block-height"><div class="chapter-number">{{chapter}}</div></div>
{{else}}
{{#ifCond this.markers 'contains' 'v'}}
<div id="header-{{this.id}}-v" class="strip-header block-height"><div class="verse-number">{{verse}}</div></div>
{{/ifCond}}
{{/ifCond}}
{{/if}}
<div id="pile-{{this.spid}}" class="pile block-height"></div>
{{! if this is the last sourcephrase, close out the strip div }}
{{#if @last}}</div>{{/if}}
{{/.}}