{{! SourcePhrase.html
    Template for rendering a source phrase in a chapter -- used by SourcePhraseView.js.
}}
{{#.}}
{{! if we have a marker _after_ the first sourcephrase, we need to close out the previous div. }}
{{#if this.markers}}{{#unless @first}}</div>{{/unless}}{{/if}}
{{#if this.markers}}<div class="strip{{classes}}" id="strip-{{this.id}}">
{{! start each strip with a header (e.g. verse or chapter info) }}
{{#ifCond this.markers 'contains' 'c '}}
    <div id="header-{{this.id}}" class="strip-header chapter-number">{{chapter}}</div>
{{else}}
{{#ifCond this.markers 'contains' 'v'}}
    <div id="header-{{this.id}}" class="strip-header verse-number">{{verse}}</div>
{{else}}
    <div id="header-{{this.id}}" class="strip-header" style="display:none;"></div>
{{/ifCond}}
{{/ifCond}}
{{/if}}
<div id="pile-{{this.spid}}" class="pile"></div>
{{! if this is the last sourcephrase, close out the strip div }}
{{#if @last}}</div>{{/if}}
{{/.}}